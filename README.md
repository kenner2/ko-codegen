# OpenKO Codegen

## Project Overview
The goal of this project is to:
* Create a full json-schema representation of the OpenKO dbo schema (see `./json_schema`)
* Generate a C++ model library from the json-schema with additional helper functions
* Implement everything via interfaces, such that the interfaces can be implemented for other languages as desired

The project is currently in prototyping and subject to refactoring.

## Build/Run Project

The project is coded in Go 1.24; You'll need to install the language and add it to your PATH. See https://go.dev/doc/install

If Go is correctly installed on your path, you should be able to run `go version` in your terminal and get version
information output:
```
PS S:\git\ko-codegen> go version
go version go1.24.1 windows/amd64
```
The following commands assume that you have a terminal open in the root folder of the project.

To download project dependencies, run:
```shell
go mod download
```

To build/run the application, run:
```shell
go run main.go
```

## Output
Only C++ is currently generated by this project.  All generated code files are written to `./out`

## TODOs
Things that would be good to idea in the near term:
1. C++ file formatter
2. null package for types:
   1. Series of structs for each type that would look something like:
   ```
   type null.int struct {
        int Val
        bool IsSet
   }
   ```
   2. This would allow us to implement optionals/nullables without pointers, which allows us to leverage stack memory over heap
3. implement extending OdbcRecordSet and associated functions.  Maybe.  Current OdbcRecordSet behavior seems to be for specific queries rather than generalized.  Would require thought-out proposal and discussion with larger group